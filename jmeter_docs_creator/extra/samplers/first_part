 











МЕТОДИКА НАГРУЗОЧНОГО ТЕСТИРОВАНИЯ
IID-**** ИС «****»

















МОСКВА
2020 
Документ согласован
Таблица 1
Документ согласован
РОЛЬ	ФИО	СТРУКТУРНОЕ ПОДРАЗДЕЛЕНИЕ	ДОЛЖНОСТЬ	ДАТА	ПОДПИСЬ
1	2	3	4	5	6
					
					
					
					
 
СОДЕРЖАНИЕ
1	ОБЩИЕ СВЕДЕНИЯ	4
2	ЦЕЛИ ТЕСТИРОВАНИЯ	6
3	ОГРАНИЧЕНИЯ ТЕСТИРОВАНИЯ	7
4	УСЛОВИЯ ПРОВЕДЕНИЯ ТЕСТИРОВАНИЯ	8
5	ЭТАПЫ РАБОТ	9
5.1	ПОДГОТОВКА К ПРОВЕДЕНИЮ НТ	9
5.2	ПРОВЕДЕНИЕ ТЕСТОВ ПОИСКА МАКСИМАЛЬНОЙ ПРОИЗВОДИТЕЛЬНОСТИ И СТАБИЛЬНОСТИ	9
5.3	ПРОВЕДЕНИЕ ТЕСТОВ ОТКАЗОУСТОЙЧИВОСТИ	9
5.4	ПРОВЕДЕНИЕ ТЕСТА ОЦЕНКИ ВЛИЯНИЯ ПРОЦЕДУРЫ РЕЗЕРВНОГО КОПИРОВАНИЯ НА ПРОИЗВОДИТЕЛЬНОСТЬ СИСТЕМЫ ПОД НАГРУЗКОЙ	9
5.5	РАБОТЫ ПРИ ПОДАЧЕ НАГРУЗКИ НА СИСТЕМУ	10
5.6	РАБОТЫ БЕЗ ПОДАЧИ НАГРУЗКИ НА СИСТЕМУ	10
5.7	ПОДГОТОВКА ОТЧЁТОВ	11
5.8	ПОДГОТОВКА ПРОМЫШЛЕННОГО СТЕНДА ДЛЯ ПРОВЕДЕНИЯ НАГРУЗОЧНОГО ТЕСТИРОВАНИЯ	11
6	ОБЪЕКТ ТЕСТИРОВАНИЯ	12
6.1	АРХИТЕКТУРА СИСТЕМЫ	12
7	СТРАТЕГИЯ ТЕСТИРОВАНИЯ	16
7.1	ОПИСАНИЕ ИНСТРУМЕНТА АВТОМАТИЗАЦИИ НАГРУЗОЧНОГО ТЕСТИРОВАНИЯ	16
7.2	ПРОФИЛЬ НАГРУЗКИ	17
7.3	ТРЕБОВАНИЯ К ПРОИЗВОДИТЕЛЬНОСТИ СИСТЕМЫ	18
7.4	СЦЕНАРИИ ИСПОЛЬЗОВАНИЯ	19
7.5	ПЛАНИРУЕМЫЕ ТЕСТЫ	19
8	МОНИТОРИНГ	23
8.1	ОПИСАНИЕ СРЕДСТВ МОНИТОРИНГА	23
8.2	ОПИСАНИЕ КРИТИЧЕСКИХ ЗНАЧЕНИЙ ПАРАМЕТРОВ ПРИ МОНИТОРИНГЕ	24
9	МАТЕРИАЛЫ, ПОДЛЕЖАЩИЕ СДАЧЕ	25
ШАБЛОН ПРОТОКОЛА ТЕСТИРОВАНИЯ	25
ПРИЛОЖЕНИЯ	26
ПРИЛОЖЕНИЕ 1 – СЦЕНАРИИ ИСПОЛЬЗОВАНИЯ	26




	
	 
1	ОБЩИЕ СВЕДЕНИЯ
Для оценки производительности Информационной системы «Защищенное файловое хранилище» необходимо проведение нагрузочных испытаний программного продукта. В качестве объекта тестирования выступает Система с выбранными для тестирования операциями.
Полное наименование: Информационная система «Защищенное файловое хранилище ПАО НК «Роснефть». 
Краткое наименование: ИС «ЗФХ», Система.
Номер информационной системы в соответствии с управленческим учетом – 000.125.000.000.
Данный документ определяет порядок проведения нагрузочных испытаний системы Информационная система «Защищенное файловое хранилище», далее – Система.
Документ описывает:
•	этапы работ;
•	методику нагрузки системы;
•	конфигурацию промышленной среды.
В таблице 2 приведены основные термины, используемые в документе.
Таблица 2
Термины и определения
№	ИСПОЛЬЗУЕМЫЙ ТЕРМИН	ОПРЕДЕЛЕНИЕ
1	2	3
1.		Бизнес-процесс	Совокупность взаимосвязанных или взаимодействующих видов деятельности, преобразующая входы в выходы.
2.		Информационная система	Совокупность содержащейся в базах данных информации и обеспечивающих ее обработку информационных технологий и технических средств [Федеральный закон от 27.07.2006 № 149-ФЗ «Об информации, информационных технологиях и о защите информации»] 
3.		Компания	Группа юридических лиц различных организационно-правовых форм, включая ПАО «НК «Роснефть», в отношении которых последнее прямо или косвенно выступает в качестве основного или преобладающего (участвующего) общества
4.		Объекты информационной системы	Файловые ресурсы, вложенные папки и файлы
5.		Структурное подразделение	Структурное подразделение ПАО «НК «Роснефть» или Общества Группы с самостоятельными функциями, задачами и ответственностью в рамках своей компетенции, определённой Положением о структурном подразделении.
6.		Пользователь	Работник Компании
7.		Программное обеспечение 	Комплекс компьютерных программ, обеспечивающий обработку или передачу данных
8.		Файловый ресурс	Ресурс для размещения корпоративных документов (в том числе конфиденциальных) в электронной форме, предназначенный для хранения и совместной работы с документами в структурных подразделениях Компании. Файловый ресурс является частью ЗФХ уровня Департамента.


 
В таблице 3 приведены обозначения и сокращения, используемые в документе.
Таблица 3
Сокращения и обозначения
№	СОКРАЩЕНИЕ	ОБОЗНАЧЕНИЕ
1	2	3
1.		АРМ	Автоматизированное рабочее место
2.		БД	База данных
3.		ИБ	Информационная безопасность
4.		ИС	Информационная система
5.		ИТ	Информационные технологии
6.		ЛНД	Локальный нормативный документ
7.		НТ	Нагрузочное тестирование
8.		ОПЭ	Опытно-промышленная эксплуатация
9.		ОС	Операционная система
10.		ОЭ	Опытная эксплуатация
11.		ПАО	Публичное акционерное общество
12.		ПКЗИ 	Персональный комплекс защиты (конфиденциальной) информации 
13.		ПМИ	Программа и методика испытаний
14.		ПО	Программное обеспечение 
15.		РК	Резервное копирование
16.		СРК	Система резервного копирования
17.		СУБД	Система управления базами данных
18.		ТЗ	Техническое задание
19.		ТПр	Технический проект 

 

2	ЦЕЛИ ТЕСТИРОВАНИЯ
Цели тестирования:
•	Определить максимальную производительность Cистемы;
•	Подтвердить способность Системы стабильно работать в течение длительного времени на уровне типичной нагрузки;

 

3	ОГРАНИЧЕНИЯ ТЕСТИРОВАНИЯ
Ограничения тестирования заключаются в следующем:
•	Поиск функциональных дефектов при проведении данных работ не предполагается. При этом найденные в ходе тестовых испытаний функциональные дефекты также будут зафиксированы;

 
 
4	УСЛОВИЯ ПРОВЕДЕНИЯ ТЕСТИРОВАНИЯ
Условия, необходимые для проведения тестирования, описаны в таблице 4.

5	ЭТАПЫ РАБОТ
Нагрузочные испытания будут проводиться на промышленном стенде.
Ниже описаны этапы работ.
5.1	ПОДГОТОВКА К ПРОВЕДЕНИЮ НТ
•	Настройка генераторов;
•	Первичное наполнение БД;
5.2	ПРОВЕДЕНИЕ ТЕСТОВ ПОИСКА МАКСИМАЛЬНОЙ ПРОИЗВОДИТЕЛЬНОСТИ И СТАБИЛЬНОСТИ
•	Проведение теста поиска максимальной производительности Системы;
•	Восстановление виртуальных машин СУБД и серверов файлового хранилища из     эталонной РК;
•	Проведение теста стабильности;
•	Восстановление виртуальных машин СУБД и серверов файлового хранилища из     эталонной РК.

 
 
6	ОБЪЕКТ ТЕСТИРОВАНИЯ

ИС «***» предназначена для 

6.1	АРХИТЕКТУРА СИСТЕМЫ
Среда нагрузочного тестирования включает в себя компоненты


Промышленная конфигурация Системы представлена в таблице 


 
7	СТРАТЕГИЯ ТЕСТИРОВАНИЯ
При проведении нагрузочного тестирования будут смоделированы условия промышленной эксплуатации Системы при различных уровнях нагрузки. 
Для этого эмулируется поведение пользователей при работе в Системе.
Для эмуляции нагрузки на Систему были выбраны группы операций, выполняемых бизнес-пользователями (группы бизнес-пользователей указаны в таблице 5), объединенные в профиль нагрузки.
Процентное распределение операций, выполняемых пользователями, приведено в представленном ниже профиле нагрузочного тестирования (см. таблицу 10).
Для моделирования определенного поведения пользователей используются профили нагрузки. Профиль нагрузки включает в себя группы пользователей, выполняющих заранее определенные операции. Для каждого профиля создается отдельный скрипт нагрузки.
Каждый запуск сценариев определяется набором следующих параметров:
•	Длительность теста;
•	Число одновременно эмулируемых пользователей;
•	Задержка в скриптах нагрузки между эмулируемыми действиями.
Требования к производительности Системы приведены в разделе 7.3 настоящего документа.
При подготовке профилей нагрузки сделаны следующие допущения:
•	Частота работы бизнес-пользователя одинаковая в пределах группы;
•	Количество одновременно работающих бизнес-пользователей в группах изменяется пропорционально согласно заданному значению;
•	Бизнес-процессы, выполняемые группами пользователей, не пересекаются.
7.1	ОПИСАНИЕ ИНСТРУМЕНТА АВТОМАТИЗАЦИИ НАГРУЗОЧНОГО ТЕСТИРОВАНИЯ
Apache JMeter — инструмент для разработки скриптов и проведения нагрузочного тестирования, разрабатываемый Apache Software Foundation. 
Этот инструмент включает в себя функцию записи (перехвата) сообщений по протоколу Web http/https для последующего воспроизведения последовательности запросов с целью эмулировать действия пользователя. 
После записи запросов имеется возможность сформировать сценарий, который позволит поддерживать необходимую интенсивность выполнения операций. 
У инструмента также имеется возможность создания большого количества запросов с помощью нескольких компьютеров при управлении процессом с одного из них. 
Архитектура, поддерживающая плагины сторонних разработчиков, позволяет дополнять инструмент новыми функциями.

